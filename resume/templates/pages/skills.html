{% include 'partials/header_resume.html' %}
    <h1>Skill Set</h1>
    <div id="startContent" class="container-fluid">
    <script>
        var skills = JSON.parse('{{skills|safe}}');
        var svg = d3.select('#startContent').append('svg')
            .attr('height', 300).attr('width', 500);

        var group_skills = svg.selectAll('g')
            .data(skills).enter().append('g');

        var skill_bars = group_skills.append('rect')
            .attr('class', 'bar-rect')
            .attr('rx', 10).attr('ry', 10)
            .attr('fill', 'gray')
            .attr('height', 15).attr('width', 200)
            .attr('x', 0)
            .attr('y', function(d,i) {
                return i*20 + 2
            });

        var exp_fill = group_skills.append('rect')
            .attr('class', 'exp-rect')
            .attr('rx', 10).attr('ry', 10)
            .attr('fill', 'orange')
            .attr('height', 15).attr('width', 0)
            .attr('x', 0)
            .attr('y', function(d,i) {
                return i*20 + 2
            });;

        // move the bar
        exp_fill.transition()
            .duration(1000)
            .attr('width', function(d) {
                // using 10 years as max
                if (d.year_exp > 10) {
                    return 200;
                } else {
                    return d.year_exp/10 * 200;
                }
            });
    </script>
    </div>

{% include 'partials/footer_resume.html' %}